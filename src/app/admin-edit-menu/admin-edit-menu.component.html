<div>
  <div class="admin-edit-menu-language">
    <label>
      <input type="radio" [(ngModel)]="lang" value="ru">
      RU
    </label>
    <label>
      <input type="radio" [(ngModel)]="lang" value="eng">
      ENG
    </label>
    <label>
      <input type="radio" [(ngModel)]="lang" value="kz">
      KZ
    </label>

    <div class="add-button">
      <button (click)="createItemMenu()">Добавить пункт меню</button>
    </div>
  </div>
  <div>
    <ul *ngFor="let itemMenu of listMainItemMenu; let i = index">
      <li>
        <table class="file-table">
          <thead>
          <tr>
            <th>Вложения</th>
            <th>Последнее изменение</th>
            <th>Тип пункта</th>
            <th>Отображать</th>
            <th>
              <div class="info">
                <img src="assets/icons/info.svg">
                <span class="info-dropdown">
            <ul>
              <li>Информация</li>
              <li><img src="assets/icons/arrow-up.svg">Переместить вверх</li>
              <li><img src="assets/icons/arrow-down.svg">Переместить вниз</li>
              <li><img src="assets/icons/trash-2.svg">Удалить пункт меню</li>
              <li><img src="assets/icons/plus.svg"> Добавить новый подпункт меню</li>
            </ul>
          </span>
              </div>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td *ngIf="lang === 'ru' && itemMenu.isEdit === false">{{itemMenu.nameRu}}</td>
            <td *ngIf="lang === 'ru' && itemMenu.isEdit === true"><input type="text" [(ngModel)]="itemMenu.nameRu">
            </td>
            <td *ngIf="lang === 'eng' && itemMenu.isEdit === false">{{itemMenu.nameEn}}</td>
            <td *ngIf="lang === 'eng' && itemMenu.isEdit === true"><input type="text" [(ngModel)]="itemMenu.nameEn">
            </td>
            <td *ngIf="lang === 'kz' && itemMenu.isEdit === false">{{itemMenu.nameKz}}</td>
            <td *ngIf="lang === 'kz' && itemMenu.isEdit === true"><input type="text" [(ngModel)]="itemMenu.nameKz">
            </td>
            <td>{{itemMenu.lastModifiedDate}}</td>
            <td *ngIf="itemMenu.isEdit === true">
              <select [ngModel]="itemMenu.typeItemMenu.id" (ngModelChange)="setTypeItemMenu($event, i)">
                <option [ngValue]="typeItem.id"
                        *ngFor="let typeItem of listTypeItemMenu; let iType = index">{{typeItem.nameType}}</option>
              </select>
            </td>
            <td
              *ngIf="itemMenu.isEdit === false">{{[itemMenu.typeItemMenu === null ? 'Не выбран' : itemMenu.typeItemMenu.nameType]}}</td>
            <td *ngIf="itemMenu.isEdit === true">
              <div class="edit-button">
                <input [(ngModel)]="itemMenu.showItem" type="checkbox">
              </div>
            </td>
            <td *ngIf="itemMenu.isEdit === false">{{[itemMenu.showItem === true ? 'Показывать' : 'Скрыть']}}</td>
            <td>
              <div class="edit-button">
                <button (click)="updateItemMenu(itemMenu)" *ngIf="itemMenu.isEdit"><img alt=""
                                                                                        src="assets/edit-menu.svg">
                </button>
                <button (click)="changeEditStatus(itemMenu)" *ngIf="!itemMenu.isEdit"><img alt=""
                                                                                           src="assets/new-window.svg">
                </button>
                <button *ngIf="i !== 0" (click)="changePositionUp(i)"><img alt="Вверх"
                                                                           src="assets/icons/arrow-up.svg"></button>
                <button *ngIf="i !== (listMainItemMenu.length - 1)" (click)="changePositionDown(i)"><img alt="Вниз"
                                                                                                         src="assets/icons/arrow-down.svg">
                </button>
                <button (click)="deleteItemMenu(itemMenu.id, i)"><img alt="Удалить" src="assets/icons/trash-2.svg">
                </button>
                <button (click)="createItemMenu(itemMenu.id, i)"><img alt="Создать" src="assets/icons/plus.svg">
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </li>
      <li *ngIf="itemMenu.childerItemMenu.length !== 0">
        <table class="inherit-table">
          <thead>
          <tr>
            <th>Вложения2</th>
            <th>Последнее изменение</th>
            <th>Тип пункта</th>
            <th>Отображать</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let childerItem of itemMenu.childerItemMenu; let iChildren = index">
            <td *ngIf="lang === 'ru' && childerItem.isEdit === false">{{childerItem.nameRu}}</td>
            <td *ngIf="lang === 'ru' && childerItem.isEdit === true"><input type="text"
                                                                            [(ngModel)]="childerItem.nameRu">
            </td>
            <td *ngIf="lang === 'eng' && childerItem.isEdit === false">{{childerItem.nameEn}}</td>
            <td *ngIf="lang === 'eng' && childerItem.isEdit === true"><input type="text"
                                                                             [(ngModel)]="childerItem.nameEn">
            </td>
            <td *ngIf="lang === 'kz' && childerItem.isEdit === false">{{childerItem.nameKz}}</td>
            <td *ngIf="lang === 'kz' && childerItem.isEdit === true"><input type="text"
                                                                            [(ngModel)]="childerItem.nameKz">
            <td>{{childerItem.lastModifiedDate}}</td>
            <td *ngIf="childerItem.isEdit === true">
              <select [ngModel]="childerItem.typeItemMenu.id" (ngModelChange)="setTypeItemMenu($event, i, iChildren)">
                <option [ngValue]="typeItem.id"
                        *ngFor="let typeItem of listTypeItemMenu; let iType = index">{{typeItem.nameType}}</option>
              </select>
            </td>
            <td
              *ngIf="childerItem.isEdit === false">{{[childerItem.typeItemMenu === null ? 'Не выбран' : childerItem.typeItemMenu.nameType]}}</td>
            <td *ngIf="childerItem.isEdit === true">
              <div class="edit-button">
                <input [(ngModel)]="childerItem.showItem" type="checkbox">
              </div>
            </td>
            <td *ngIf="childerItem.isEdit === false">{{[childerItem.showItem === true ? 'Показывать' : 'Скрыть']}}</td>
            <td>
              <div class="edit-button">
                <button (click)="updateItemMenu(childerItem)" *ngIf="childerItem.isEdit"><img alt=""
                                                                                              src="assets/edit-menu.svg">
                </button>
                <button (click)="changeEditStatus(childerItem)" *ngIf="!childerItem.isEdit"><img alt=""
                                                                                                 src="assets/new-window.svg">
                </button>
                <button *ngIf="iChildren !== 0" (click)="changePositionUp(i, iChildren)"><img alt="Вверх"
                                                                                              src="assets/icons/arrow-up.svg">
                </button>
                <button *ngIf="iChildren !== (itemMenu.childerItemMenu.length - 1)"
                        (click)="changePositionDown(i, iChildren)">
                  <img alt="Вниз" src="assets/icons/arrow-down.svg">
                </button>
                <button (click)="deleteItemMenu(childerItem.id, i, iChildren)">
                  <img alt="Удалить" src="assets/icons/trash-2.svg">
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </li>
      <hr>
    </ul>


  </div>
</div>
