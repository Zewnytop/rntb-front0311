<div>
  <p><b>Редактирование меню</b></p>
</div>
<div class="admin-edit-menu-choice">
  <div>
    <p>Выбрать из списка</p>
  </div>
  <div>
    <form class="edit-input">
      <p>
        <ng-template [ngIf]="!edit" [ngIfElse]="editMainBlock">
          <select name="select" size="1" [(ngModel)]="mainItemMenu" (ngModelChange)="getNestedItemsMenu(78)">
            <option *ngFor="let mainItemMenu of listMainItemMenu; let i = index "
                    [ngValue]="mainItemMenu">{{mainItemMenu.nameRu}}</option>

          </select>
          <input *ngIf="mainItemMenu !== null" type="checkbox" [(ngModel)]="getMainItemMenuEdit().showItem" name="a1">
          <label>Отображать</label>
        </ng-template>
        <ng-template #editMainBlock>
          <input type="text" [(ngModel)]="getMainItemMenuEdit().nameRu" name="c3">
          <input type="checkbox" [(ngModel)]="getMainItemMenuEdit().showItem" name="a1">
          <label>Отображать</label>
        </ng-template>
        <input type="checkbox" [(ngModel)]="edit" name="edit">
        <label>Редактировать</label>
        <button (click)="log()">asdasd</button>
        <button (click)="getMainItemMenu()">sssssssss</button>
      </p>
    </form>
  </div>
</div>
<div class="file-table">
  <table>
    <thead>
    <tr>
      <th>Вложения</th>
      <th>Последнее изменение</th>
      <th>Тип пункта</th>
      <th>Отображать</th>
      <th>Редактировать</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let nestedItemMenu of listNestedItemMenu; let i = index">
      <ng-template [ngIf]="!edit" [ngIfElse]="editBlock">
        <td>{{nestedItemMenu.nameRu}}</td>
        <td>{{nestedItemMenu.lastModifiedDate}}</td>
        <td>{{nestedItemMenu.typeItemMenu.nameType}}</td>
        <td>
          <div class="edit-button">
            <input type="checkbox" [(ngModel)]="nestedItemMenu.showItem" name="c1" id="c1">
            <label for="c1"></label>
          </div>
        </td>
        <td>
          <div class="edit-button">
            <button><img src="assets/admin-edit-menu-edit1.svg"></button>
            <button><img src="assets/admin-edit-menu-edit2.svg"></button>
          </div>
        </td>
      </ng-template>
      <ng-template #editBlock>
        <td>
          <form class="edit-input">
            <input type="text" [(ngModel)]="nestedItemMenu.nameRu" [name]="'edit-input' + i ">
          </form>
        </td>
        <td>{{nestedItemMenu.lastModifiedDate}}</td>
        <td>
          <select name="select" size="1" [(ngModel)]="nestedItemMenu.typeItemMenu.id"
                  (ngModelChange)="setTypeItemMenu($event, nestedItemMenu)">
            <option *ngFor="let type of listTypeItemMenu; let i = index "
                    [ngValue]="type.id">{{type.nameType}}</option>
          </select>
        </td>
        <td>
          <div class="edit-button">
            <input type="checkbox" [(ngModel)]="nestedItemMenu.showItem" name="c1" id="c2">
          </div>
        </td>
        <td>
          <div class="edit-button">
            <button><img src="assets/admin-edit-menu-edit1.svg"></button>
            <button><img src="assets/admin-edit-menu-edit2.svg"></button>
          </div>
        </td>
      </ng-template>
    </tr>
    </tbody>
  </table>
  <button (click)="updateVisibleItemMenu()" *ngIf="!edit">Сохранить</button>
  <button (click)="updateItemsMenuAdmin()" *ngIf="edit">Сохранить для главного администратора</button>


  <div class="admin-edit-menu-language">
    <ul>
      <li>RU</li>
      <li>KK</li>
      <li>ENG</li>
    </ul>
    <div class="add-button">
      <button>Добавить пункт меню</button>
    </div>
  </div>
  <div class="file-table">
    <ul *ngFor="let k of [0,1,2,3,4]">
      <li>
        <table>
          <thead *ngIf=" k == 0">
          <tr>
            <th>Вложения</th>
            <th>Последнее изменение</th>
            <th>Тип пункта</th>
            <th>Отображать</th>
            <th>
              <div class="info">
                <img src="assets/icons/info.svg">
                <span class="info-dropdown">
            <ul>
              <li>Информация</li>
              <li><img src="assets/icons/arrow-up.svg">Переместить вверх</li>
              <li><img src="assets/icons/arrow-down.svg">Переместить вниз</li>
              <li><img src="assets/icons/trash-2.svg">Удалить пункт меню</li>
              <li><img src="assets/icons/plus.svg"> Добавить новый подпункт меню</li>
            </ul>
          </span>
              </div>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>Виртуальная выставка</td>
            <td>Пусто</td>
            <td>page</td>
            <td>
              <div class="edit-button">
                <input type="checkbox">
              </div>
            </td>
            <td>
              <div class="edit-button">

                <button><img src="assets/icons/arrow-up.svg"></button>
                <button><img src="assets/icons/arrow-down.svg"></button>
                <button><img src="assets/icons/trash-2.svg"></button>
                <button><img src="assets/icons/plus.svg"></button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </li>
      <li>
        <table class="inherit-table">
          <thead>
          <tr>
            <th>Вложения</th>
            <th>Последнее изменение</th>
            <th>Тип пункта</th>
            <th>Отображать</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>Виртуальная выставка</td>
            <td>Пусто</td>
            <td>page</td>
            <td>
              <div class="edit-button">
                <input type="checkbox">
              </div>
            </td>
            <td>
              <div class="edit-button">
                <button><img src="assets/icons/arrow-up.svg"></button>
                <button><img src="assets/icons/arrow-down.svg"></button>
                <button><img src="assets/icons/trash-2.svg"></button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </li>
      <hr>
    </ul>


  </div>
</div>
