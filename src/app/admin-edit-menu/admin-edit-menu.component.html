<div>
  <span>Редактирование меню</span>
</div>
<div class="admin-edit-menu-choice">
  <div>
    <p>Выбрать из списка</p>
  </div>
  <div>
    <form>
      <p>
        <ng-template [ngIf]="!edit" [ngIfElse]="editMainBlock">
          <select name="select" size="1" [(ngModel)]="mainItemMenu" (ngModelChange)="getNestedItemsMenu(78)">
            <option *ngFor="let mainItemMenu of listMainItemMenu; let i = index "
                    [ngValue]="mainItemMenu">{{mainItemMenu.nameRu}}</option>

          </select>
          <input *ngIf="mainItemMenu !== null" type="checkbox" [(ngModel)]="getMainItemMenuEdit().showItem" name="a1">
          <label>Отображать</label>
        </ng-template>
        <ng-template #editMainBlock>
          <input type="text" [(ngModel)]="getMainItemMenuEdit().nameRu" name="c3">
          <input type="checkbox" [(ngModel)]="getMainItemMenuEdit().showItem" name="a1">
          <label>Отображать</label>
        </ng-template>
        <input type="checkbox" [(ngModel)]="edit" name="edit">
        <label>Редактировать</label>
        <button (click)="log()">asdasd</button>
        <button (click)="getMainItemMenu()">sssssssss</button>
      </p>
    </form>
  </div>
</div>
<div>
  <table class="admin-edit-menu-table">
    <thead>
    <tr>
      <th>Вложения</th>
      <th>Последнее изменение</th>
      <th>Тип пункта</th>
      <th>Отображать</th>
      <th>Редактировать</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let nestedItemMenu of listNestedItemMenu; let i = index">
      <ng-template [ngIf]="!edit" [ngIfElse]="editBlock">
        <td>{{nestedItemMenu.nameRu}}</td>
        <td>{{nestedItemMenu.lastModifiedDate}}</td>
        <td>{{nestedItemMenu.typeItemMenu.nameType}}</td>
        <td>
          <div class="admin-edit-menu-edit-button">
            <input type="checkbox" [(ngModel)]="nestedItemMenu.showItem" name="c1" id="c1">
            <label for="c1"></label>
          </div>
        </td>
        <td>
          <div class="admin-edit-menu-edit-button">
            <button><img src="assets/admin-edit-menu-edit1.svg"></button>
            <button><img src="assets/admin-edit-menu-edit2.svg"></button>
          </div>
        </td>
      </ng-template>
      <ng-template #editBlock>
        <input type="text" [(ngModel)]="nestedItemMenu.nameRu">
        <td>{{nestedItemMenu.lastModifiedDate}}</td>
        <td>
          <select name="select" size="1" [(ngModel)]="nestedItemMenu.typeItemMenu.id" (ngModelChange)="setTypeItemMenu($event, nestedItemMenu)">
            <option *ngFor="let type of listTypeItemMenu; let i = index "
                    [ngValue]="type.id">{{type.nameType}}</option>
          </select>
        </td>
        <td>
          <div class="admin-edit-menu-edit-button">
            <input type="checkbox" [(ngModel)]="nestedItemMenu.showItem" name="c1" id="c2">
            <label for="c1"></label>
          </div>
        </td>
        <td>
          <div class="admin-edit-menu-edit-button">
            <button><img src="assets/admin-edit-menu-edit1.svg"></button>
            <button><img src="assets/admin-edit-menu-edit2.svg"></button>
          </div>
        </td>
      </ng-template>
    </tr>
    </tbody>
  </table>
  <button (click)="updateVisibleItemMenu()" *ngIf="!edit">Сохранить</button>
  <button (click)="updateItemsMenuAdmin()" *ngIf="edit">Сохранить для главного администратора</button>
</div>
